<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.67dc2501e27f925a2041.css">html{font-size:100}body.dark{--bg-color:#2f3030;--color-base:#fff;--color-primary:#66d9ef;--color-secondary:#e6db74}body{--bg-color:#fff;--color-base:#222;--color-primary:#5d93ff;--color-secondary:#f7a046;margin:0 0 0 calc(100vw - 100%);color:var(--color-base);-webkit-transition:color .3s ease-out 0s;transition:color .3s ease-out 0s;-webkit-transition:background-color .3s ease-out 0s;transition:background-color .3s ease-out 0s;line-height:1.625;font-size:1rem;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background-color:var(--bg-color)}body,h1,h2,h3,h4,h5,h6{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif}h1,h2,h3,h4,h5,h6{font-weight:600}h1{font-size:2.5rem;line-height:3.25rem;margin-top:6.5rem;margin-bottom:1.625rem}h2{font-size:1.6875rem;line-height:2.4375rem}h2,h3{margin-top:3.25rem;margin-bottom:.8125rem}h3{font-size:1.375rem;line-height:1.625rem}h4{font-size:1.2rem;margin-top:2.4375rem}h4,h5{line-height:1.625rem;margin-bottom:.8125rem}h5,h6{font-size:1rem;margin-top:4.0625rem}h6{line-height:1.625rem;margin-bottom:.8125rem}img{max-width:100%;margin:inherit auto}hr,img{border:0;display:block}hr{color:var(--color-base);height:1.625rem;margin:3.25rem auto;background-size:100% 26px;background-image:linear-gradient(180deg,transparent 1px,transparent 11px,var(--color-base) 0,var(--color-base) 15px,transparent 0,transparent 26px);width:6.25rem}a{color:var(--color-primary);text-decoration:none}a:active,a:focus,a:hover{color:var(--color-secondary)}b,strong{font-weight:600}ul{list-style:square;margin-bottom:1.625rem}ul li{padding:0 .3125rem;margin-bottom:.625rem}p{line-height:1.625rem;margin-bottom:1.625rem}blockquote{padding:0;font-style:italic;text-align:center}figure{display:block;width:100%;height:auto}figcaption{line-height:1.21875rem;margin-top:.40625rem;color:var(--color-base);font-size:.875rem;font-style:italic;margin-bottom:0;text-align:center}.anchor{margin-left:-1.875rem!important;padding-right:.875rem!important}@media screen and (min-width:685px){figure.float-left,figure.float-right{max-width:19.375rem;padding:0 1.625rem}.float-right{float:right}.float-left{float:left}}code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:none;text-shadow:0 1px rgba(0,0,0,.3);font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#272822}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#f8f8f2}.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#ae81ff}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a6e22e}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.class-name,.token.function{color:#e6db74}.token.keyword{color:#66d9ef}.token.important,.token.regex{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.Author-module--author__photo--HnDWV{display:inline-block;margin-bottom:0;background-clip:padding-box}.Author-module--author__title--ZztQd{font-size:1.125rem;font-weight:600;line-height:1.82813rem;margin:.8125rem 0}.Author-module--author__title-link--BY7f8,.Author-module--author__title-link--BY7f8:focus,.Author-module--author__title-link--BY7f8:hover{color:var(--color-base)}.Author-module--author__subtitle--3hbMX{color:#888;line-height:1.625rem;margin-bottom:1.625rem}.Icon-module--icon--1T2h2{display:inline-block;width:1em;height:1em;stroke-width:0;stroke:currentColor;fill:currentColor;font-style:normal;font-weight:400;speak:none;margin-right:.2em;text-align:center;font-variant:normal;text-transform:none;line-height:1em;margin-left:.2em;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.Contacts-module--contacts--3fb7G{margin-bottom:1.625rem}.Contacts-module--contacts__list--27zok{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row wrap;-webkit-box-flex:0;flex-grow:0;flex-shrink:0;list-style:none;padding:0;margin:.625rem -.1875rem;width:8.75rem}.Contacts-module--contacts__list-item--1Adud{padding:0;margin:.25rem;display:-webkit-box;display:flex;align-content:center;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;height:2.1875rem;width:2.1875rem;line-height:2.1875rem;border-radius:50%;text-align:center;border:1px solid #ebebeb}.Contacts-module--contacts__list-item-link--2L60c{border:0;display:-webkit-box;display:flex;color:var(--color-base)}.Contacts-module--contacts__list-item-link--2L60c:focus,.Contacts-module--contacts__list-item-link--2L60c:hover{color:var(--color-primary)}.Copyright-module--copyright--1YLES{color:#b6b6b6;font-size:.875rem}.Menu-module--menu--2aN3O{margin-bottom:1.625rem}.Menu-module--menu__list--1uKDu{list-style:none;padding:0;margin:0}.Menu-module--menu__list-item--27cxj{padding:0;margin:.625rem 0}.Menu-module--menu__list-item-link--29Sd-{font-size:1rem;color:var(--color-base);font-weight:400;border:0}.Menu-module--menu__list-item-link--29Sd-:focus,.Menu-module--menu__list-item-link--29Sd-:hover{color:var(--color-primary);border-bottom:1px solid var(--color-primary)}.Menu-module--menu__list-item-link--active--2HzKy{color:var(--color-base);border-bottom:1px solid var(--color-base)}.Sidebar-module--sidebar--1zM7S{width:100%}.Sidebar-module--sidebar__inner--2Tprz{position:relative;padding:1.5625rem 1.25rem 0}@media screen and (min-width:685px){.Sidebar-module--sidebar--1zM7S{width:calc(41.625% - 1.09375rem)}.Sidebar-module--sidebar--1zM7S:nth-child(1n){float:left;margin-right:1.875rem;clear:none}.Sidebar-module--sidebar--1zM7S:last-child{margin-right:0}.Sidebar-module--sidebar--1zM7S:nth-child(12n){margin-right:0;float:right}.Sidebar-module--sidebar--1zM7S:nth-child(12n+1){clear:both}.Sidebar-module--sidebar__inner--2Tprz{padding:1.875rem 1.25rem 0}.Sidebar-module--sidebar__inner--2Tprz:after{background:#e6e6e6;background:-webkit-gradient(linear,left top,left bottom,from(#e6e6e6),color-stop(48%,#e6e6e6),to(#fff));background:linear-gradient(180deg,#e6e6e6 0,#e6e6e6 48%,#fff);position:absolute;content:"";width:.0625rem;height:33.75rem;top:30px;right:-10px;bottom:0}}@media screen and (min-width:960px){.Sidebar-module--sidebar--1zM7S{width:calc(33.3% - 1.25rem)}.Sidebar-module--sidebar--1zM7S:nth-child(1n){float:left;margin-right:1.875rem;clear:none}.Sidebar-module--sidebar--1zM7S:last-child{margin-right:0}.Sidebar-module--sidebar--1zM7S:nth-child(3n){margin-right:0;float:right}.Sidebar-module--sidebar--1zM7S:nth-child(3n+1){clear:both}.Sidebar-module--sidebar__inner--2Tprz{padding:2.5rem}}.Layout-module--themeToggle--MD8MZ{float:right;padding:.35rem}@media screen and (min-width:960px){.Layout-module--themeToggle--MD8MZ{position:fixed;bottom:-4px;right:10px}}.Layout-module--toggle--wgTBm{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:3.875rem;height:2rem;display:inline-block;position:relative;border-radius:3.125rem;overflow:hidden;outline:none;border:none;cursor:pointer;background-color:#707070;-webkit-transition:background-color .3s ease;transition:background-color .3s ease}.Layout-module--toggle--wgTBm:before{content:"\1F31E   \1F31C";display:block;position:absolute;z-index:2;width:1.75rem;height:1.75rem;background:#fff;left:2px;top:2px;border-radius:50%;font:1rem/1.75rem Helvetica;text-transform:uppercase;font-weight:700;text-indent:-25px;word-spacing:30px;font-size:1rem;color:#fff;text-shadow:-1px -1px rgba(0,0,0,.15);white-space:nowrap;box-shadow:0 1px 2px rgba(0,0,0,.2);-webkit-transition:all .3s cubic-bezier(.3,1.5,.7,1);transition:all .3s cubic-bezier(.3,1.5,.7,1)}.Layout-module--toggle--wgTBm:checked{background-color:#a6e22e}.Layout-module--toggle--wgTBm:checked:before{left:32px}.Layout-module--layout--EpQHE{max-width:66.875rem;margin-left:auto;margin-right:auto}.Layout-module--layout--EpQHE:before{content:"";display:table}.Layout-module--layout--EpQHE:after{content:"";display:table;clear:both}.Feed-module--feed__item--Bm0MP{margin-bottom:2.03125rem}.Feed-module--feed__item--Bm0MP:last-child{margin-bottom:.8125rem}.Feed-module--feed__item-title--34sOw{font-size:1.6875rem;line-height:2.4375rem;margin-top:0;margin-bottom:.8125rem}.Feed-module--feed__item-title-link--2qfTF{color:var(--color-base)}.Feed-module--feed__item-title-link--2qfTF:focus,.Feed-module--feed__item-title-link--2qfTF:hover{color:var(--color-base);border-bottom:1px solid var(--color-base)}.Feed-module--feed__item-description--2_Zuy{font-size:1rem;line-height:1.625rem;margin-bottom:1.21875rem}.Feed-module--feed__item-meta-time--3hc6b{font-size:.875rem;color:var(--color-base);font-weight:600;text-transform:uppercase}.Feed-module--feed__item-meta-divider--2GeAw{margin:0 .3125rem}.Feed-module--feed__item-meta-category-link--lAu1I{font-size:.875rem;color:var(--color-secondary);font-weight:600;text-transform:uppercase}.Feed-module--feed__item-meta-category-link--lAu1I:focus,.Feed-module--feed__item-meta-category-link--lAu1I:hover{color:var(--color-primary)}.Feed-module--feed__item-readmore--rMfbv{font-size:1rem;color:var(--color-primary)}.Feed-module--feed__item-readmore--rMfbv:focus,.Feed-module--feed__item-readmore--rMfbv:hover{color:var(--color-primary);border-bottom:1px solid var(--color-primary)}.Page-module--page--V2155{margin-bottom:3.25rem}.Page-module--page__inner--3xzwp{padding:1.5625rem 1.25rem}.Page-module--page__title--t1zKX{font-size:2.5rem;font-weight:600;line-height:3.25rem;margin-top:0;margin-bottom:2.35625rem}.Page-module--page__body--1A7TB{font-size:1rem;line-height:1.625rem;margin:0 0 1.625rem}@media screen and (min-width:685px){.Page-module--page--V2155{width:calc(58.275% - .78125rem)}.Page-module--page--V2155:nth-child(1n){float:left;margin-right:1.875rem;clear:none}.Page-module--page--V2155:last-child{margin-right:0}.Page-module--page--V2155:nth-child(12n){margin-right:0;float:right}.Page-module--page--V2155:nth-child(12n+1){clear:both}.Page-module--page__inner--3xzwp{padding:1.875rem 1.25rem}}@media screen and (min-width:960px){.Page-module--page--V2155{width:calc(66.6% - .625rem)}.Page-module--page--V2155:nth-child(1n){float:left;margin-right:1.875rem;clear:none}.Page-module--page--V2155:last-child{margin-right:0}.Page-module--page--V2155:nth-child(3n){margin-right:0;float:right}.Page-module--page--V2155:nth-child(3n+1){clear:both}.Page-module--page__inner--3xzwp{padding:2.5rem 2.1875rem}}.Pagination-module--pagination--3T_m0{margin-top:3.25rem;display:-webkit-box;display:flex}.Pagination-module--pagination__prev--3tRFv{width:50%;text-align:left}.Pagination-module--pagination__prev-link--2vesn{color:var(--color-secondary);font-size:1.625rem;font-weight:700}.Pagination-module--pagination__prev-link--2vesn:focus,.Pagination-module--pagination__prev-link--2vesn:hover{color:var(--color-primary)}.Pagination-module--pagination__prev-link--disable--1Fxw2{pointer-events:none;color:#bbb}.Pagination-module--pagination__next--19bJd{width:50%;text-align:right}.Pagination-module--pagination__next-link--3ln7y{color:var(--color-secondary);font-size:1.625rem;font-weight:700}.Pagination-module--pagination__next-link--3ln7y:focus,.Pagination-module--pagination__next-link--3ln7y:hover{color:var(--color-primary)}.Pagination-module--pagination__next-link--disable--AsM50{pointer-events:none;color:#bbb}.Author-module--author--2kf8a{border-top:1px solid #e6e6e6;max-width:66.875rem;padding-top:1.25rem;line-height:1.625rem;margin-top:1.625rem;margin-bottom:3.25rem}.Author-module--author__bio-twitter--MufFK{display:block;text-decoration:underline}@media screen and (min-width:685px){.Author-module--author--2kf8a{margin-left:auto;margin-right:auto}}.Content-module--content--1tfQQ{max-width:66.875rem;padding:0 .9375rem;margin:0 auto}.Content-module--content__title--1qFLI{font-size:2rem;max-width:66.875rem;font-weight:600;text-align:center;line-height:2.68125rem;margin:1.625rem auto 0}.Content-module--content__body--2bfha figure{margin-bottom:1.625rem}.Content-module--content__body--2bfha figure blockquote{font-style:italic;text-align:center;margin-top:0;padding:1.625rem 0}.Content-module--content__body--2bfha figure blockquote p{max-width:66.875rem;font-size:1.6817rem;margin-top:0;margin-bottom:1.625rem;line-height:2.4375rem}.Content-module--content__body--2bfha a{text-decoration:underline}.Content-module--content__body--2bfha *{max-width:66.875rem;margin-left:auto;margin-right:auto}.Content-module--content__body--2bfha img{max-width:100%}@media screen and (min-width:960px){.Content-module--content--1tfQQ{padding:0}.Content-module--content__title--1qFLI{font-size:3rem;line-height:3.65625rem;margin-top:3.65625rem;margin-bottom:2.4375rem}.Content-module--content__body--2bfha,.Content-module--content__body--2bfha p{font-size:1.125rem;line-height:1.82813rem;margin-bottom:1.82813rem}}.Meta-module--meta__date--3FNDv{font-style:italic}.Tags-module--tags--1oNz4{margin-bottom:.8125rem}.Tags-module--tags__list--2UTD-{list-style:none;margin:0 -.625rem;padding:0}.Tags-module--tags__list-item--b7tap{display:inline-block;margin:.625rem .3125rem}.Tags-module--tags__list-item-link--1hQL0{display:inline-block;height:2.1875rem;padding:0 1.5rem;line-height:2.1875rem;border:1px solid #e6e6e6;text-decoration:none;border-radius:1.25rem;color:var(--color-base)}.Tags-module--tags__list-item-link--1hQL0:focus,.Tags-module--tags__list-item-link--1hQL0:hover{color:var(--color-primary)}.Post-module--post__comments--2T8dL,.Post-module--post__footer--1BvmJ{max-width:66.875rem;margin:0 auto;padding:0 .9375rem}.Post-module--post__home-button--3zx_9{display:block;max-width:5.625rem;height:2.1875rem;padding:0 1.5rem;line-height:2.1875rem;text-align:center;color:var(--color-base);border:1px solid #e6e6e6;border-radius:1.25rem;font-size:1rem;font-weight:400;margin-left:auto;margin-right:auto;margin-top:1.625rem}.Post-module--post__home-button--3zx_9:focus,.Post-module--post__home-button--3zx_9:hover{color:var(--color-primary)}@media screen and (min-width:960px){.Post-module--post__comments--2T8dL,.Post-module--post__footer--1BvmJ{padding:0}.Post-module--post__home-button--3zx_9{position:fixed;max-width:auto;margin:0;top:30px;left:30px}}</style><meta name="generator" content="Gatsby 2.18.16"/><link rel="alternate" type="application/rss+xml" title="Tim Scriv" href="/rss.xml"/><style type="text/css">
    .anchor {
      float: left;
      padding-right: 4px;
      margin-left: -20px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var offset = element.offsetTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-126708983-1"></script><script>
      
      
      if(true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){window.dataLayer && window.dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-126708983-1', {"send_page_view":false});
      }
      </script><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="icon" href="/icons/icon-48x48.png?v=03eb5222528630f7d40c3c7f6da2cca4"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#25536D"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=03eb5222528630f7d40c3c7f6da2cca4"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=03eb5222528630f7d40c3c7f6da2cca4"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=03eb5222528630f7d40c3c7f6da2cca4"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=03eb5222528630f7d40c3c7f6da2cca4"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=03eb5222528630f7d40c3c7f6da2cca4"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=03eb5222528630f7d40c3c7f6da2cca4"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=03eb5222528630f7d40c3c7f6da2cca4"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=03eb5222528630f7d40c3c7f6da2cca4"/><title data-react-helmet="true">Build Your Own Primitives with Value Objects - Tim Scriv</title><meta data-react-helmet="true" name="description" content="Value objects are simple objects that give us a powerful tool for building more SOLID software and let us build our own primitive types, specially designed for our needs."/><meta data-react-helmet="true" property="og:site_name" content="Build Your Own Primitives with Value Objects - Tim Scriv"/><meta data-react-helmet="true" property="og:image" content="https://timscriv.com/logo.svg"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:title" content="Build Your Own Primitives with Value Objects - Tim Scriv"/><meta data-react-helmet="true" name="twitter:description" content="Value objects are simple objects that give us a powerful tool for building more SOLID software and let us build our own primitive types, specially designed for our needs."/><meta data-react-helmet="true" name="twitter:image" content="https://timscriv.com/logo.svg"/><link as="script" rel="preload" href="/webpack-runtime-d7e571ca02be37216575.js"/><link as="script" rel="preload" href="/netlify-identity-widget-e37a35e339457e643f79.js"/><link as="script" rel="preload" href="/app-eab5dea979ab4c2d9e85.js"/><link as="script" rel="preload" href="/styles-d3e18991f8e8e1c38f26.js"/><link as="script" rel="preload" href="/commons-2cf8c5abce48ea0bbd1c.js"/><link as="script" rel="preload" href="/component---src-templates-post-template-js-2084ef44a96de5d888e1.js"/><link as="fetch" rel="preload" href="/page-data\posts\build-your-own-primitives-with-value-objects\page-data.json" crossorigin="anonymous"/></head><body><script>
void function() {
  window.__onThemeChange = function() {}

  var preferredTheme
  try {
    preferredTheme = localStorage.getItem('theme')
  } catch (err) { }

  function setTheme(newTheme) {
    window.__theme = newTheme
    preferredTheme = newTheme
    document.body.className = newTheme
    window.__onThemeChange(newTheme)
  }

  window.__setPreferredTheme = function(newTheme) {
    setTheme(newTheme)
    try {
      localStorage.setItem('theme', newTheme)
    } catch (err) {}
  }

  var darkQuery = window.matchMedia('(prefers-color-scheme: dark)')
  darkQuery.addListener(function(e) {
    window.__setPreferredTheme(e.matches ? 'dark' : 'light')
  })

  setTheme(preferredTheme || (darkQuery.matches ? 'dark' : 'light'))
}()
    </script><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><div class="Layout-module--layout--EpQHE"><div class="Layout-module--themeToggle--MD8MZ"><input type="checkbox" class="Layout-module--toggle--wgTBm"/> </div><div><a class="Post-module--post__home-button--3zx_9" href="/">All Articles</a><div><div class="Content-module--content--1tfQQ"><h1 class="Content-module--content__title--1qFLI">Build Your Own Primitives with Value Objects</h1><div class="Content-module--content__body--2bfha"><blockquote>
<p>A small simple object, like money or a date range, whose equality isn’t based on identity. - <a href="https://martinfowler.com/eaaCatalog/valueObject.html" target="_blank" rel="nofollow noopener noreferrer">Martin Fowler</a></p>
</blockquote>
<p>I like to think of this as a way to build our own primitive types.</p>
<h2 id="problem"><a href="#problem" aria-label="problem permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Problem</h2>
<p>Primitive types can be too generic and can hold any value of that type but the specifics of our code might not allow for ALL values of that type.</p>
<h2 id="example"><a href="#example" aria-label="example permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example</h2>
<p>First, lets talk about books and some of the properties of a book. A book can have a title, an author, publish year, publisher, chapters, a page count, and probably many other things. A simple class definition for a book might look something like this:</p>
<div class="gatsby-highlight" data-language="csharp"><pre class="language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Book</span>
<span class="token punctuation">{</span>
        <span class="token keyword">public</span> <span class="token keyword">string</span> Title <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
        <span class="token keyword">public</span> <span class="token keyword">string</span> Author <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
        <span class="token keyword">public</span> <span class="token keyword">int</span> PublishYear <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
        <span class="token keyword">public</span> <span class="token keyword">int</span> PageCount <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>This looks useful for defining our book but we immediately start running into issues when we start trying to use it for anything, like add/update:</p>
<div class="gatsby-highlight" data-language="csharp"><pre class="language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">static</span> List<span class="token operator">&lt;</span>Book<span class="token operator">></span> _bookCollection <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token generic-method"><span class="token function">List</span><span class="token punctuation">&lt;</span><span class="token class-name">Book</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    _bookCollection<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Book</span> <span class="token punctuation">{</span> Title <span class="token operator">=</span> <span class="token string">"IT"</span><span class="token punctuation">,</span> Author <span class="token operator">=</span> <span class="token string">"Stephen King"</span><span class="token punctuation">,</span> PublishYear <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span> PageCount <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">5000</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    _bookCollection<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Book</span> <span class="token punctuation">{</span> Title <span class="token operator">=</span> <span class="token string">"The Winds of Winter"</span><span class="token punctuation">,</span> Author <span class="token operator">=</span> <span class="token string">"George R. R. Martin"</span><span class="token punctuation">,</span> PublishYear <span class="token operator">=</span> <span class="token number">9999</span><span class="token punctuation">,</span> PageCount <span class="token operator">=</span> <span class="token number">1200085410</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    _bookCollection<span class="token punctuation">.</span><span class="token function">ForEach</span><span class="token punctuation">(</span>b <span class="token operator">=></span> Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>$<span class="token string">"{b.Title} ({b.PublishYear})...{b.PageCount}"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">ReadKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p><strong>WTF?!?!?!</strong> How can a book have negative pages or be published in the future, also -3 <em>WHAT</em>, (C.E., B.C.E., something else). We could go into all of the function that have anything to do with the business logic involved with adding/updating the database and write our logic but then we would have to duplicate everything wherever we are using it, and when we go into update it sometime down the road we are going to forget all the places we have that logic to update (HERE COME THE BUGS). Instead we could use a <code class="language-text">ValueObject</code> to isolate all of that logic to one place and always ensure that it is run correctly.</p>
<h2 id="solution"><a href="#solution" aria-label="solution permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Solution</h2>
<p>A <code class="language-text">ValueObject</code> is just a small class that allows us to define our own primitive types in code, like making smart ints.</p>
<p>Let’s start with PageCount and what makes an integer not a good choice.</p>
<ul>
<li>Page counts cannot be negative, or zero.</li>
<li>Math on page count isn’t useful. <em>I can’t add PageCounts together to get a longer book, well maybe that’s crazy.</em></li>
<li>The longest book ever written is not anywhere close to <code class="language-text">int.MaxValue</code> so we can put some meaningful max on this as well.</li>
</ul>
<h3 id="our-new-value-object"><a href="#our-new-value-object" aria-label="our new value object permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Our new value object</h3>
<div class="gatsby-highlight" data-language="csharp"><pre class="language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PageCount</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">PageCount</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token keyword">value</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">value</span> <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token operator">||</span> <span class="token keyword">value</span> <span class="token operator">></span> <span class="token number">50000</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">InvalidPageCountException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        Value <span class="token operator">=</span> <span class="token keyword">value</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span> Value <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">string</span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">return</span> $<span class="token string">"{Value} pages"</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">implicit</span> <span class="token keyword">operator</span> <span class="token function">PageCount</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token keyword">value</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">PageCount</span><span class="token punctuation">(</span><span class="token keyword">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Now, we can go into our book object and update the <code class="language-text">PageCount</code> property to be of type <code class="language-text">PageCount</code> and KA-BLAMO everywhere that was updating PageCount has logic on the value.</p>
<p><strong>NOTE</strong> because of the way this is implemented we will begin throwing exceptions when we have an invalid page count, if the system doesn’t handle errors well in all situations you may be causing unknown side effects. If this is the case you should still use value objects but probably not implicitly convert to them, making it easier to find all the use cases for refactoring.</p>
<h3 id="closing"><a href="#closing" aria-label="closing permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Closing</h3>
<p>Tired of reading me butcher what a value object is and how to use it? Check out these awesome references:</p>
<ul>
<li><a href="http://www.weeklydevtips.com/012" target="_blank" rel="nofollow noopener noreferrer">Weekly Dev Tips - Primitive Obsession</a></li>
<li><a href="https://hackernoon.com/value-objects-like-a-pro-f1bfc1548c72" target="_blank" rel="nofollow noopener noreferrer">Value Objects Like a Pro</a></li>
<li><a href="https://docs.microsoft.com/en-us/dotnet/standard/microservices-architecture/microservice-ddd-cqrs-patterns/implement-value-objects" target="_blank" rel="nofollow noopener noreferrer">Implement value objects</a></li>
<li><a href="https://lostechies.com/jimmybogard/2007/12/03/dealing-with-primitive-obsession/" target="_blank" rel="nofollow noopener noreferrer">Dealing with primitive obsession</a></li>
<li><a href="http://blog.ploeh.dk/2015/01/19/from-primitive-obsession-to-domain-modelling/" target="_blank" rel="nofollow noopener noreferrer">From Primitive Obsession to Domain Modelling</a></li>
</ul>
<p>Check out the <a href="https://github.com/timscriv/value-objects" target="_blank" rel="nofollow noopener noreferrer">GitHub Repo</a> that accompanies this post for more examples and work.</p>
<p>I hope you found this useful and will help you solve more problems!</p></div></div></div><div class="Post-module--post__footer--1BvmJ"><div><p class="Meta-module--meta__date--3FNDv">Published <!-- -->25 Nov 2018</p></div><div class="Tags-module--tags--1oNz4"><ul class="Tags-module--tags__list--2UTD-"><li class="Tags-module--tags__list-item--b7tap"><a class="Tags-module--tags__list-item-link--1hQL0" href="/tag/clean-architecture/">Clean Architecture</a></li><li class="Tags-module--tags__list-item--b7tap"><a class="Tags-module--tags__list-item-link--1hQL0" href="/tag/architecture/">Architecture</a></li><li class="Tags-module--tags__list-item--b7tap"><a class="Tags-module--tags__list-item-link--1hQL0" href="/tag/net-core/">.NET Core</a></li><li class="Tags-module--tags__list-item--b7tap"><a class="Tags-module--tags__list-item-link--1hQL0" href="/tag/c-sharp/">CSharp</a></li></ul></div><div class="Author-module--author--2kf8a"><p>Dad, husband, coder, barbequer, problem-solver.<a class="Author-module--author__bio-twitter--MufFK" href="https://www.twitter.com/timscriv" rel="noopener noreferrer" target="_blank"><strong>Tim Scrivner</strong> on Twitter</a></p></div></div></div></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/posts/build-your-own-primitives-with-value-objects/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-eab5dea979ab4c2d9e85.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-87ef582ba388a83f73c0.js"],"component---src-templates-not-found-template-js":["/component---src-templates-not-found-template-js-8bf6e18fcbffbee6eab5.js"],"component---src-templates-tags-list-template-js":["/component---src-templates-tags-list-template-js-a8a30d5821197c180923.js"],"component---src-templates-categories-list-template-js":["/component---src-templates-categories-list-template-js-324659d88459e32c19db.js"],"component---src-templates-page-template-js":["/component---src-templates-page-template-js-7561b72f3997c21f4dc5.js"],"component---src-templates-post-template-js":["/component---src-templates-post-template-js-2084ef44a96de5d888e1.js"],"component---src-templates-tag-template-js":["/component---src-templates-tag-template-js-438077e52668404488ab.js"],"component---src-templates-category-template-js":["/component---src-templates-category-template-js-4a41e786118ee2b99a61.js"],"component---src-templates-index-template-js":["/component---src-templates-index-template-js-06c543fd0fd21a7ba643.js"]};/*]]>*/</script><script src="/component---src-templates-post-template-js-2084ef44a96de5d888e1.js" async=""></script><script src="/commons-2cf8c5abce48ea0bbd1c.js" async=""></script><script src="/styles-d3e18991f8e8e1c38f26.js" async=""></script><script src="/app-eab5dea979ab4c2d9e85.js" async=""></script><script src="/netlify-identity-widget-e37a35e339457e643f79.js" async=""></script><script src="/webpack-runtime-d7e571ca02be37216575.js" async=""></script></body></html>